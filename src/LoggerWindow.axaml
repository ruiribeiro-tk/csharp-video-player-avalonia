<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:VideoPlayer"
        x:Class="VideoPlayer.LoggerWindow"
        Title="Logger"
        Width="900"
        Height="600"
        MinWidth="600"
        MinHeight="400"
        WindowStartupLocation="CenterOwner"
        Background="#1E1E1E">

    <Window.Styles>
        <Style Selector="Button">
            <Setter Property="Background" Value="#4A4A4F"/>
            <Setter Property="Foreground" Value="#FFFFFF"/>
            <Setter Property="BorderBrush" Value="#5A5A5F"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="Padding" Value="12,6"/>
            <Setter Property="FontSize" Value="10"/>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>

        <Style Selector="Button:pointerover /template/ ContentPresenter#PART_ContentPresenter">
            <Setter Property="Background" Value="#3E3E42"/>
            <Setter Property="TextBlock.Foreground" Value="#FFFFFF"/>
        </Style>

        <Style Selector="Button:pressed /template/ ContentPresenter#PART_ContentPresenter">
            <Setter Property="Background" Value="#1E1E1E"/>
            <Setter Property="TextBlock.Foreground" Value="#FFFFFF"/>
        </Style>

        <Style Selector="ComboBox">
            <Setter Property="Background" Value="#4A4A4F"/>
            <Setter Property="Foreground" Value="#FFFFFF"/>
            <Setter Property="BorderBrush" Value="#5A5A5F"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="Padding" Value="8,6"/>
        </Style>

        <Style Selector="TextBlock.log-debug">
            <Setter Property="Foreground" Value="#A0A0A0"/>
        </Style>

        <Style Selector="TextBlock.log-info">
            <Setter Property="Foreground" Value="#FFFFFF"/>
        </Style>

        <Style Selector="TextBlock.log-warning">
            <Setter Property="Foreground" Value="#FFA500"/>
        </Style>

        <Style Selector="TextBlock.log-error">
            <Setter Property="Foreground" Value="#FF4444"/>
        </Style>
    </Window.Styles>

    <DockPanel>
        <!-- Control Panel at top -->
        <Border DockPanel.Dock="Top"
                Background="#252526"
                BorderBrush="#3E3E42"
                BorderThickness="0,0,0,1"
                Padding="12">
            <Grid ColumnDefinitions="Auto,*,Auto">
                <!-- Log Level Filter -->
                <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="8">
                    <TextBlock Text="Log Level:"
                              Foreground="#A0A0A0"
                              VerticalAlignment="Center"
                              FontSize="13"/>
                    <ComboBox Name="LogLevelComboBox"
                             Width="120"
                             SelectionChanged="LogLevelComboBox_SelectionChanged">
                        <ComboBoxItem Content="Debug" IsSelected="True"/>
                        <ComboBoxItem Content="Info"/>
                        <ComboBoxItem Content="Warning"/>
                        <ComboBoxItem Content="Error"/>
                    </ComboBox>
                </StackPanel>

                <!-- Clear Button -->
                <Button Grid.Column="2"
                        Name="ClearLogsButton"
                        Content="Clear Logs"
                        Click="ClearLogsButton_Click"/>
            </Grid>
        </Border>

        <!-- Log entries list -->
        <Border Background="#1E1E1E"
                BorderBrush="#3E3E42"
                BorderThickness="0">
            <ScrollViewer Name="LogScrollViewer"
                         VerticalScrollBarVisibility="Auto"
                         HorizontalScrollBarVisibility="Disabled">
                <ItemsControl Name="LogItemsControl"
                             Padding="12">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate DataType="local:LogEntry">
                            <Border BorderBrush="#3E3E42"
                                   BorderThickness="0,0,0,1"
                                   Padding="8,6">
                                <Grid ColumnDefinitions="Auto,Auto,*">
                                    <TextBlock Grid.Column="0"
                                             Text="{Binding FormattedTimestamp}"
                                             Foreground="#707070"
                                             FontFamily="Consolas,Courier New"
                                             FontSize="11"
                                             Margin="0,0,12,0"/>

                                    <TextBlock Grid.Column="1"
                                             Text="{Binding LevelString}"
                                             Foreground="{Binding LevelColor}"
                                             FontFamily="Consolas,Courier New"
                                             FontSize="11"
                                             FontWeight="Bold"
                                             Margin="0,0,12,0"/>

                                    <TextBlock Grid.Column="2"
                                             Text="{Binding Message}"
                                             Foreground="{Binding LevelColor}"
                                             TextWrapping="Wrap"
                                             FontFamily="Consolas,Courier New"
                                             FontSize="11"/>
                                </Grid>
                            </Border>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </ScrollViewer>
        </Border>
    </DockPanel>
</Window>
